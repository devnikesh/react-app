(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{42:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a(35),r=a.n(n),s=(a(42),a(11)),i=a(10),l=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container p-4 my-8",children:Object(i.jsx)("h1",{className:"text-3xl mx-auto text-center\tfont-bold\ttext-gray-600\t",children:"Upload Photo"})})})},o=a(0),j=a.n(o),u=a(3),d=a(36),b=a(19),m=a(37),O=Object(d.a)({apiKey:"AIzaSyBQtVI_VwWJdIeQaArvhIyISlXh_R3lrGM",authDomain:"photo-gallery-444da.firebaseapp.com",projectId:"photo-gallery-444da",storageBucket:"photo-gallery-444da.appspot.com",messagingSenderId:"631790859688",appId:"1: 631790859688:web:ed9132e1a5c55e2b59599d"}),f=Object(m.a)(O),p=Object(b.c)(O),g=(b.e,a(25)),x=function(e){var t=Object(c.useState)(0),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),o=l[0],d=l[1],m=Object(c.useState)(null),O=Object(s.a)(m,2),x=O[0],h=O[1];return Object(c.useEffect)((function(){var t=Object(g.c)(f,e.name),a=Object(b.b)(p,"images");Object(g.d)(t,e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){d(e)}),Object(u.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(t);case 2:c=e.sent,n=Object(b.e)(),Object(b.a)(a,{url:c,createdAt:n}),h(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:x,error:o}},h=a(48),y=function(e){var t=e.file,a=e.setFile,n=x(t),r=n.url,s=n.progress;return Object(c.useEffect)((function(){r&&a(null)}),[r,a]),console.log(s,r),Object(i.jsx)(h.a.div,{className:"progress-bar bg-red-300 h-1\tw-12\t\t",initial:{width:0},animate:{width:s+"%"}})},v=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),l=Object(s.a)(r,2),o=l[0],j=l[1],u=["image/png","image/jpeg"];return Object(i.jsxs)("form",{children:[Object(i.jsxs)("label",{className:"cursor-pointer",children:[Object(i.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(n(t),j(""),console.log(a)):(n(null),j("Please Select an Image file (png or jpeg)"))},className:"h-0 w-0 opacity-0"}),Object(i.jsx)("span",{className:"rounded-full h-10 w-10 flex items-center justify-center border-2 my-4 mx-auto text-gray-300\t\t",children:"+"})]}),Object(i.jsxs)("div",{className:"flex justify-center items-center flex-col",children:[o&&Object(i.jsx)("div",{children:o}),a&&Object(i.jsx)("div",{children:a.name}),a&&Object(i.jsx)(y,{file:a,setFile:n})]})]})},I=a(31),w=function(e){var t=Object(c.useState)([]),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){var t=Object(b.b)(p,e),a=Object(b.d)(t,(function(e){var t=[];e.forEach((function(e){t.push(Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return a()}}),[e]),{docs:n}},S=function(e){var t=e.setSelectedImg,a=w("images").docs;return console.log(a),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"mx-auto my-8 grid grid-cols-3 gap-8",children:a&&a.map((function(e){return Object(i.jsx)(h.a.div,{onClick:function(){return t(e.url)},whileHover:{opacity:1},layout:!0,className:"opacity-70",children:Object(i.jsx)(h.a.img,{src:e.url,initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})})},N=function(e){var t=e.selectedImg,a=e.setSelectedImg;return Object(i.jsx)(h.a.div,{className:"fixed top-0 modal\t left-0\tw-full\t h-full\t",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:function(e){e.target.classList.contains("modal")&&a(null)},initial:{opacity:0},animate:{opacity:1},children:Object(i.jsx)(h.a.img,{src:t,alt:"Modal",className:"border-4\tshadow-2xl\t",style:{maxWidth:"60%",maxHeight:"80%",margin:"60px auto"},initial:{y:"-100vh"},animate:{y:0}})})},k=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)("div",{className:"max-w-screen-md\tmx-auto",children:[Object(i.jsx)(l,{}),Object(i.jsx)(v,{}),Object(i.jsx)(S,{setSelectedImg:n}),a&&Object(i.jsx)(N,{selectedImg:a,setSelectedImg:n})]})};r.a.render(Object(i.jsx)(k,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.6f111090.chunk.js.map